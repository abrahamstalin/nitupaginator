/*
* @Author: Abraham Stalin Aguilar Valencia ASAV
* @follow me: twitter @abrahamstalin
*/
function NituPaginador(e){this.params=e,null==this.params.divElement?alert('The "divElement" parameter is necessary'):document.getElementById(this.params.divElement)?(document.getElementById(e.divElement).style.display="none",this.currentPage=0,this.arrayOfPages=[],this.params.lengthWords||(this.params.lengthWords=500),this.params.paginationNav&&(this.flagMakePaginationNav=!0)):alert('The "divElement['+this.params.divElement+']" no exists'),this.makeMagic=function(){var t=0,n="",a=document.getElementById(this.params.divElement).children;for(i in a){var s=a[i];this.checkIsNode(s)&&(n+=s.outerHTML,t+=this.getTextNode(s).split(/\s+/).length,t>this.params.lengthWords&&(this.arrayOfPages.push(n),n="",t=0))}t>0&&this.arrayOfPages.push(n),document.getElementById(e.divElement).innerHTML='<div id="'+e.divElement+'_content"></div><div id="'+e.divElement+'_bar_buttons"></div>',document.getElementById(e.divElement).style.display="block",this.paintPage(),this.flagMakePaginationNav&&this.makePaginationNav(e.divElement+"_bar_buttons")},this.makePaginationNav=function(t){this.divElementFlagId=t,this.params.paginationNav||(this.params.paginationNav={classNav:"pagination"});var n='<div class="'+this.params.paginationNav.classNav+'"><a id="'+t+'_el_previous">&laquo;</a>';for(x in this.arrayOfPages)n+='<a valSel="'+x+'" id="'+t+"_el_"+x+'">'+(parseInt(x)+1)+"</a>";n+='<a id="'+t+'_el_next">&raquo;</a></div>',document.getElementById(t).innerHTML=n,e.btnPrevious=t+"_el_previous",e.btnNext=t+"_el_next";var i=this;document.getElementById(t+"_el_previous").addEventListener("click",function(){i.previousPage()}),document.getElementById(t+"_el_next").addEventListener("click",function(){i.nextPage()});var a=document.querySelectorAll('a[id^="'+this.divElementFlagId+'_el_"]');for(index in a)i.checkIsNode(a[index])&&a[index].hasAttribute("valSel")&&a[index].addEventListener("click",function(){i.currentPage=this.getAttribute("valSel"),i.paintPage()});document.querySelector('[id^="'+t+'"]');this.flagMakePaginationNav=!0,this.paintPage()},this.paintPage=function(){if(document.getElementById(e.divElement+"_content").innerHTML=this.arrayOfPages[this.currentPage],document.getElementById(e.btnNext)&&document.getElementById(e.btnPrevious)&&(document.getElementById(e.btnPrevious).disabled=!1,document.getElementById(e.btnNext).disabled=!1,0==this.currentPage?document.getElementById(e.btnPrevious).disabled=!0:this.currentPage==this.arrayOfPages.length-1&&(document.getElementById(e.btnNext).disabled=!0),this.flagMakePaginationNav&&document.getElementById(this.divElementFlagId+"_el_"+this.currentPage))){var t=document.querySelectorAll('a[id^="'+this.divElementFlagId+'_el_"]');for(index in t)this.checkIsNode(t[index])&&t[index].hasAttribute("valSel")&&(t[index].className="");document.getElementById(this.divElementFlagId+"_el_"+this.currentPage).className+="active"}},this.nextPage=function(){this.arrayOfPages.length-1>this.currentPage&&(this.currentPage=parseInt(this.currentPage)+1,this.paintPage())},this.previousPage=function(){this.currentPage>0&&(this.currentPage=parseInt(this.currentPage)-1,this.paintPage())},this.checkIsNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},this.getTextNode=function(e){ret="";for(var t=e.childNodes.length,n=0;t>n;n++){var i=e.childNodes[n];8!=i.nodeType&&(ret+=1!=i.nodeType?i.nodeValue:this.getTextNode(i))}return ret},document.getElementById(this.params.divElement)&&this.makeMagic()}
